<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ§ª Teste Funcional do Namespace</title>
</head>
<body>
    <h1>ğŸ§ª Teste das FunÃ§Ãµes do Namespace</h1>
    <div id="resultado" style="font-family: monospace; white-space: pre-line; padding: 20px; border: 1px solid #ddd;"></div>

    <script src="src/main.js"></script>

    <script>
        const resultado = document.getElementById('resultado');
        let logs = [];
        
        function addLog(msg) {
            logs.push(msg);
            resultado.textContent = logs.join('\n');
            console.log(msg);
        }

        setTimeout(() => {
            addLog('ğŸ§ª TESTE FUNCIONAL: Testando funÃ§Ãµes do namespace...');
            
            if (typeof window.SENT1_AUTO === 'object') {
                addLog(`âœ… Namespace encontrado: ${window.SENT1_AUTO.status}`);
                addLog('');
                
                // Teste 1: traduzirStatusSessao
                try {
                    const resultado1 = window.SENT1_AUTO.traduzirStatusSessao('INCLUÃDO EM PAUTA');
                    addLog(`ğŸ§ª TESTE 1 - traduzirStatusSessao('INCLUÃDO EM PAUTA'):`);
                    addLog(`   âœ… Resultado: ${JSON.stringify(resultado1)}`);
                } catch (e) {
                    addLog(`ğŸ§ª TESTE 1 - âŒ Erro: ${e.message}`);
                }
                
                addLog('');
                
                // Teste 2: extrairDadosCardSessaoGlobal
                try {
                    const textoTeste = '25/07/2024 - INCLUÃDO EM PAUTA - ApelaÃ§Ã£o CÃ­vel (12345)';
                    const resultado2 = window.SENT1_AUTO.extrairDadosCardSessaoGlobal(textoTeste);
                    addLog(`ğŸ§ª TESTE 2 - extrairDadosCardSessaoGlobal():`);
                    addLog(`   ğŸ“ Input: "${textoTeste}"`);
                    addLog(`   âœ… Resultado: ${JSON.stringify(resultado2)}`);
                } catch (e) {
                    addLog(`ğŸ§ª TESTE 2 - âŒ Erro: ${e.message}`);
                }
                
                addLog('');
                
                // Teste 3: detectarCardSessaoSimplificado
                try {
                    const resultado3 = window.SENT1_AUTO.detectarCardSessaoSimplificado();
                    addLog(`ğŸ§ª TESTE 3 - detectarCardSessaoSimplificado():`);
                    addLog(`   âœ… Resultado: ${resultado3}`);
                } catch (e) {
                    addLog(`ğŸ§ª TESTE 3 - âŒ Erro: ${e.message}`);
                }
                
                addLog('');
                
                // Teste 4: testarDeteccaoRobusta
                try {
                    const resultado4 = window.SENT1_AUTO.testarDeteccaoRobusta();
                    addLog(`ğŸ§ª TESTE 4 - testarDeteccaoRobusta():`);
                    addLog(`   âœ… Resultado: ${resultado4}`);
                } catch (e) {
                    addLog(`ğŸ§ª TESTE 4 - âŒ Erro: ${e.message}`);
                }
                
                addLog('');
                
                // Teste 5: diagnosticarEstruturaDOMMinutas
                try {
                    const resultado5 = window.SENT1_AUTO.diagnosticarEstruturaDOMMinutas();
                    addLog(`ğŸ§ª TESTE 5 - diagnosticarEstruturaDOMMinutas():`);
                    addLog(`   âœ… Resultado: ${resultado5}`);
                } catch (e) {
                    addLog(`ğŸ§ª TESTE 5 - âŒ Erro: ${e.message}`);
                }
                
                addLog('');
                addLog('ğŸ¯ RESUMO DOS TESTES:');
                addLog(`ğŸ“Š Namespace: ${window.SENT1_AUTO.status}`);
                addLog(`ğŸ¯ VersÃ£o: ${window.SENT1_AUTO.versao}`);
                addLog(`â° Timestamp: ${window.SENT1_AUTO.timestamp}`);
                addLog(`ğŸ“ˆ Total de propriedades: ${Object.keys(window.SENT1_AUTO).length}`);
                addLog('');
                addLog('ğŸ‰ CONCLUSÃƒO: Sistema de emergÃªncia funcionando perfeitamente!');
                addLog('âœ… UsuÃ¡rio pode usar as funÃ§Ãµes crÃ­ticas mesmo com falhas no script principal');
                
            } else {
                addLog('âŒ FALHA: Namespace nÃ£o encontrado');
            }
        }, 4000); // Aguardar 4 segundos para garantir que o namespace foi criado
    </script>
</body>
</html>
